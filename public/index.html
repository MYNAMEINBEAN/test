<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ultraviolet Custom Home</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <img src="uv.png" alt="Ultraviolet Logo" class="logo">
        <h1>Welcome to Your Custom Ultraviolet Proxy</h1>
        <p>Customize this page to fit your style!</p>
        <p>Example proxied link: <a id="example-link" href="#">https://bean.com</a></p>
        <form id="uv-form" autocomplete="off">
            <input type="text" id="uv-address" placeholder="Enter a URL (e.g. https://example.com)" required style="width:70%;padding:0.5rem;border-radius:8px;border:none;">
            <button type="submit" style="padding:0.5rem 1.5rem;border-radius:8px;border:none;background:#2a5298;color:#fff;font-weight:bold;">Go</button>
        </form>
        <p id="uv-error" style="color:#ffb3b3;"></p>
    </div>
    <script>
    // Ultraviolet public instance base
    const UV_BASE = 'https://uv.deno.dev/service/';
    // Simple encode function (Base64-URL)
    function encodeUrl(url) {
        return btoa(url).replace(/\+/g, "-").replace(/\//g, "_").replace(/=+$/, "");
    }
    // Form handler
    const form = document.getElementById('uv-form');
    const input = document.getElementById('uv-address');
    const error = document.getElementById('uv-error');
    form.addEventListener('submit', function(e) {
        e.preventDefault();
        let url = input.value.trim();
        if (!url) return;
        if (!url.startsWith('http://') && !url.startsWith('https://')) {
            url = 'http://' + url;
        }
        window.location.href = UV_BASE + encodeUrl(url);
    });
    // Example link
    const example = document.getElementById('example-link');
    example.href = UV_BASE + encodeUrl('https://bean.com');
    </script>
</body>
</html>
